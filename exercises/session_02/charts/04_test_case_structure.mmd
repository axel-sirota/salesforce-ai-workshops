%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#e8f5e9', 'primaryTextColor': '#1b5e20', 'primaryBorderColor': '#43a047', 'lineColor': '#43a047'}}}%%
flowchart TB
    subgraph TestCase["LLMTestCase"]
        direction TB

        subgraph Required["REQUIRED FIELDS"]
            I["input<br/>'What is the capital of France?'"]
            AO["actual_output<br/>'Paris is the capital of France.'"]
        end

        subgraph Optional["OPTIONAL FIELDS"]
            EO["expected_output<br/>'Paris'"]
            CTX["context<br/>['France is a country...']"]
            RCTX["retrieval_context<br/>['Doc 1', 'Doc 2']"]
        end
    end

    subgraph Usage["When to Use Each Field"]
        U1["input + actual_output<br/>→ Answer Relevancy"]
        U2["Add expected_output<br/>→ Correctness"]
        U3["Add context<br/>→ Knowledge Base Testing"]
        U4["Add retrieval_context<br/>→ RAG Evaluation"]
    end

    I --> U1
    AO --> U1
    EO --> U2
    CTX --> U3
    RCTX --> U4

    style Required fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
    style Optional fill:#fff9c4,stroke:#f9a825
    style TestCase fill:#f5f5f5,stroke:#616161
    style Usage fill:#e3f2fd,stroke:#1976d2
