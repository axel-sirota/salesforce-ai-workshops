%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#fff3e0', 'primaryTextColor': '#e65100', 'primaryBorderColor': '#f57c00', 'lineColor': '#f57c00', 'secondaryColor': '#e3f2fd', 'tertiaryColor': '#f3e5f5'}}}%%
flowchart TB
    subgraph V1["Prompt V1"]
        direction LR
        V1T1["Docs queries<br/>PASS"]
        V1T2["Owner queries<br/>PASS"]
        V1T3["Status queries<br/>PASS"]
        V1T4["Completeness<br/>FAIL"]
    end

    FIX["Fix: Add 'be thorough'<br/>to prompt"]

    subgraph V2["Prompt V2"]
        direction LR
        V2T1["Docs queries<br/>PASS"]
        V2T2["Owner queries<br/>PASS"]
        V2T3["Status queries<br/>FAIL!"]
        V2T4["Completeness<br/>PASS"]
    end

    TRAP["The Regression Trap:<br/>Fixing completeness<br/>broke status queries!"]

    SOLUTION["Solution: Run ALL tests<br/>before versioning"]

    V1 --> FIX
    FIX --> V2
    V2T3 --> TRAP
    TRAP --> SOLUTION

    style V1 fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style V2 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style V1T4 fill:#ffcdd2,stroke:#c62828,stroke-width:3px
    style V2T3 fill:#ffcdd2,stroke:#c62828,stroke-width:3px
    style V2T4 fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
    style TRAP fill:#ffcdd2,stroke:#c62828,stroke-width:3px
    style SOLUTION fill:#c8e6c9,stroke:#2e7d32,stroke-width:3px
    style FIX fill:#fff9c4,stroke:#f9a825,stroke-width:2px
