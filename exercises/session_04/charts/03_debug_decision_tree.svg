<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 933.04296875 1406.5" style="max-width: 933.043px; background-color: transparent;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="933px" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#01579b;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#f3e5f5;}#my-svg .error-text{fill:#0c1a0a;stroke:#0c1a0a;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#0288d1;stroke:#0288d1;}#my-svg .marker.cross{stroke:#0288d1;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#01579b;}#my-svg .cluster-label text{fill:#0c1a0a;}#my-svg .cluster-label span{color:#0c1a0a;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#01579b;color:#01579b;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#e1f5fe;stroke:#0288d1;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#0288d1!important;stroke-width:0;stroke:#0288d1;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#0288d1;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#0288d1;fill:none;}#my-svg .edgeLabel{background-color:#fff3e0;text-align:center;}#my-svg .edgeLabel p{background-color:#fff3e0;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff3e0;fill:#fff3e0;}#my-svg .labelBkg{background-color:rgba(255, 243, 224, 0.5);}#my-svg .cluster rect{fill:#f3e5f5;stroke:hsl(292.5, 4.4444444444%, 82.9411764706%);stroke-width:1px;}#my-svg .cluster text{fill:#0c1a0a;}#my-svg .cluster span{color:#0c1a0a;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#f3e5f5;border:1px solid hsl(292.5, 4.4444444444%, 82.9411764706%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#01579b;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff3e0;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff3e0;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff3e0;fill:#fff3e0;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_Q1_0" d="M725.863,86L725.863,90.167C725.863,94.333,725.863,102.667,725.934,110.417C726.004,118.167,726.144,125.334,726.215,128.917L726.285,132.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q1_L5_0" d="M761.562,241.77L773.568,253.72C785.574,265.67,809.586,289.569,821.592,312.856C833.598,336.143,833.598,358.818,833.598,370.155L833.598,381.492"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q1_Q2_0" d="M691.164,241.77L678.992,253.72C666.819,265.67,642.474,289.569,630.376,307.102C618.278,324.636,618.427,335.802,618.501,341.386L618.576,346.969"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q2_L1_0" d="M656.993,460.652L670.422,473.129C683.852,485.607,710.711,510.561,724.141,535.287C737.57,560.013,737.57,584.51,737.57,596.759L737.57,609.008"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q2_Q3_0" d="M580.265,460.652L566.669,473.129C553.073,485.607,525.88,510.561,512.358,528.622C498.836,546.682,498.985,557.849,499.06,563.433L499.134,569.016"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q3_L4_0" d="M539.316,691.871L552.338,704.643C565.359,717.414,591.402,742.957,604.424,769.262C617.445,795.568,617.445,822.635,617.445,836.169L617.445,849.703"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q3_Q4_0" d="M459.059,691.871L445.87,704.643C432.682,717.414,406.306,742.957,393.192,761.312C380.079,779.667,380.227,790.834,380.302,796.417L380.376,802"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q4_L2_0" d="M424.887,935.949L438.923,949.442C452.96,962.935,481.033,989.92,495.069,1018.463C509.105,1047.005,509.105,1077.104,509.105,1092.154L509.105,1107.203"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q4_Q5_0" d="M335.972,935.949L321.769,949.442C307.566,962.935,279.16,989.92,265.031,1008.997C250.903,1028.073,251.052,1039.24,251.126,1044.823L251.201,1050.407"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q5_L3_0" d="M203.602,1199.348L189.699,1213.374C175.795,1227.399,147.987,1255.449,134.083,1274.975C120.18,1294.5,120.18,1305.5,120.18,1311L120.18,1316.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q5_OK_0" d="M298.906,1199.348L312.643,1213.374C326.38,1227.399,353.854,1255.449,367.591,1276.975C381.328,1298.5,381.328,1313.5,381.328,1321L381.328,1328.5"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(833.59765625, 313.46875)" class="edgeLabel"><g transform="translate(-12.6953125, -12)" class="label"><foreignObject height="24" width="25.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g transform="translate(618.12890625, 313.46875)" class="edgeLabel"><g transform="translate(-10.5, -12)" class="label"><foreignObject height="24" width="21"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g transform="translate(737.5703125, 535.515625)" class="edgeLabel"><g transform="translate(-10.5, -12)" class="label"><foreignObject height="24" width="21"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g transform="translate(498.6875, 535.515625)" class="edgeLabel"><g transform="translate(-12.6953125, -12)" class="label"><foreignObject height="24" width="25.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g transform="translate(617.4453125, 768.5)" class="edgeLabel"><g transform="translate(-10.5, -12)" class="label"><foreignObject height="24" width="21"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g transform="translate(379.9296875, 768.5)" class="edgeLabel"><g transform="translate(-12.6953125, -12)" class="label"><foreignObject height="24" width="25.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g transform="translate(509.10546875, 1016.90625)" class="edgeLabel"><g transform="translate(-10.5, -12)" class="label"><foreignObject height="24" width="21"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g transform="translate(250.75390625, 1016.90625)" class="edgeLabel"><g transform="translate(-12.6953125, -12)" class="label"><foreignObject height="24" width="25.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g transform="translate(120.1796875, 1283.5)" class="edgeLabel"><g transform="translate(-10.5, -12)" class="label"><foreignObject height="24" width="21"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g transform="translate(381.328125, 1283.5)" class="edgeLabel"><g transform="translate(-12.6953125, -12)" class="label"><foreignObject height="24" width="25.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(725.86328125, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="220.421875" y="-39" x="-110.2109375" style="fill:#fff9c4 !important;stroke:#f9a825 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-80.2109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="160.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Bug Report:<br />'AI gave wrong answer'</p></span></div></foreignObject></g></g><g transform="translate(725.86328125, 206.234375)" id="flowchart-Q1-1" class="node default"><polygon transform="translate(-70.234375,70.234375)" class="label-container" points="70.234375,0 140.46875,-70.234375 70.234375,-140.46875 0,-70.234375"/><g transform="translate(-31.234375, -24)" style="" class="label"><rect/><foreignObject height="48" width="62.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Error or<br />timeout?</p></span></div></foreignObject></g></g><g transform="translate(618.12890625, 424.4921875)" id="flowchart-Q2-2" class="node default"><polygon transform="translate(-74.0234375,74.0234375)" class="label-container" points="74.0234375,0 148.046875,-74.0234375 74.0234375,-148.046875 0,-74.0234375"/><g transform="translate(-35.0234375, -24)" style="" class="label"><rect/><foreignObject height="48" width="70.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Right tool<br />called?</p></span></div></foreignObject></g></g><g transform="translate(498.6875, 652.0078125)" id="flowchart-Q3-3" class="node default"><polygon transform="translate(-79.4921875,79.4921875)" class="label-container" points="79.4921875,0 158.984375,-79.4921875 79.4921875,-158.984375 0,-79.4921875"/><g transform="translate(-40.4921875, -24)" style="" class="label"><rect/><foreignObject height="48" width="80.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parameters<br />correct?</p></span></div></foreignObject></g></g><g transform="translate(379.9296875, 892.703125)" id="flowchart-Q4-4" class="node default"><polygon transform="translate(-87.203125,87.203125)" class="label-container" points="87.203125,0 174.40625,-87.203125 87.203125,-174.40625 0,-87.203125"/><g transform="translate(-48.203125, -24)" style="" class="label"><rect/><foreignObject height="48" width="96.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Good context<br />retrieved?</p></span></div></foreignObject></g></g><g transform="translate(250.75390625, 1150.203125)" id="flowchart-Q5-5" class="node default"><polygon transform="translate(-96.296875,96.296875)" class="label-container" points="96.296875,0 192.59375,-96.296875 96.296875,-192.59375 0,-96.296875"/><g transform="translate(-57.296875, -24)" style="" class="label"><rect/><foreignObject height="48" width="114.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Output matches<br />context?</p></span></div></foreignObject></g></g><g transform="translate(833.59765625, 424.4921875)" id="flowchart-L5-6" class="node default"><rect height="78" width="182.890625" y="-39" x="-91.4453125" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-61.4453125, -24)" style="" class="label"><rect/><foreignObject height="48" width="122.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LAYER 5: Latency<br />Use Jaeger</p></span></div></foreignObject></g></g><g transform="translate(737.5703125, 652.0078125)" id="flowchart-L1-7" class="node default"><rect height="78" width="218.78125" y="-39" x="-109.390625" style="fill:#e3f2fd !important;stroke:#1565c0 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-79.390625, -24)" style="" class="label"><rect/><foreignObject height="48" width="158.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LAYER 1: Prompt<br />Check reasoning trace</p></span></div></foreignObject></g></g><g transform="translate(617.4453125, 892.703125)" id="flowchart-L4-8" class="node default"><rect height="78" width="200.625" y="-39" x="-100.3125" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-70.3125, -24)" style="" class="label"><rect/><foreignObject height="48" width="140.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LAYER 4: Validation<br />Check tool call args</p></span></div></foreignObject></g></g><g transform="translate(509.10546875, 1150.203125)" id="flowchart-L2-9" class="node default"><rect height="78" width="224.109375" y="-39" x="-112.0546875" style="fill:#e8f5e9 !important;stroke:#2e7d32 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-82.0546875, -24)" style="" class="label"><rect/><foreignObject height="48" width="164.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LAYER 2: Retrieval<br />Check similarity scores</p></span></div></foreignObject></g></g><g transform="translate(120.1796875, 1359.5)" id="flowchart-L3-10" class="node default"><rect height="78" width="224.359375" y="-39" x="-112.1796875" style="fill:#fff3e0 !important;stroke:#ef6c00 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-82.1796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="164.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LAYER 3: Generation<br />Hallucination detected</p></span></div></foreignObject></g></g><g transform="translate(381.328125, 1359.5)" id="flowchart-OK-11" class="node default"><rect height="54" width="197.9375" y="-27" x="-98.96875" style="fill:#c8e6c9 !important;stroke:#2e7d32 !important;stroke-width:3px !important" class="basic label-container"/><g transform="translate(-68.96875, -12)" style="" class="label"><rect/><foreignObject height="24" width="137.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Response is correct</p></span></div></foreignObject></g></g></g></g></g></svg>