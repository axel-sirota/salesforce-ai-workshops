<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1661.53125 688" style="max-width: 1661.53px; background-color: transparent;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="1662px" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#01579b;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#f3e5f5;}#my-svg .error-text{fill:#0c1a0a;stroke:#0c1a0a;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#0288d1;stroke:#0288d1;}#my-svg .marker.cross{stroke:#0288d1;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#01579b;}#my-svg .cluster-label text{fill:#0c1a0a;}#my-svg .cluster-label span{color:#0c1a0a;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#01579b;color:#01579b;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#e1f5fe;stroke:#0288d1;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#0288d1!important;stroke-width:0;stroke:#0288d1;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#0288d1;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#0288d1;fill:none;}#my-svg .edgeLabel{background-color:#fff3e0;text-align:center;}#my-svg .edgeLabel p{background-color:#fff3e0;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#fff3e0;fill:#fff3e0;}#my-svg .labelBkg{background-color:rgba(255, 243, 224, 0.5);}#my-svg .cluster rect{fill:#f3e5f5;stroke:hsl(292.5, 4.4444444444%, 82.9411764706%);stroke-width:1px;}#my-svg .cluster text{fill:#0c1a0a;}#my-svg .cluster span{color:#0c1a0a;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#f3e5f5;border:1px solid hsl(292.5, 4.4444444444%, 82.9411764706%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#01579b;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:#fff3e0;text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:#fff3e0;padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:#fff3e0;fill:#fff3e0;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="Tools" class="cluster"><rect height="660" width="304.828125" y="8" x="1348.703125" style=""/><g transform="translate(1458.90625, 8)" class="cluster-label"><foreignObject height="24" width="84.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Debug Tools</p></span></div></foreignObject></g></g><g data-look="classic" id="Layers" class="cluster"><rect height="661" width="1290.703125" y="19" x="8" style=""/><g transform="translate(553.3515625, 19)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>5-Layer LLM Failure Framework</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L1_L2_0" d="M256.179,389L260.855,391.167C265.531,393.333,274.883,397.667,283.059,399.833C291.234,402,298.234,402,301.734,402L305.234,402"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L2_L3_0" d="M517.533,453L521.929,455.167C526.324,457.333,535.115,461.667,543.011,463.833C550.906,466,557.906,466,561.406,466L564.906,466"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L3_L4_0" d="M780.518,517L784.976,519.167C789.434,521.333,798.35,525.667,806.308,527.833C814.266,530,821.266,530,824.766,530L828.266,530"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L4_L5_0" d="M1036.76,581L1041.084,583.167C1045.408,585.333,1054.056,589.667,1061.879,591.833C1069.703,594,1076.703,594,1080.203,594L1083.703,594"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L1_T1_0" d="M173.633,287L192.066,252.833C210.5,218.667,247.367,150.333,287.44,116.167C327.513,82,370.792,82,414.07,82C457.349,82,500.628,82,544.214,82C587.799,82,631.693,82,675.586,82C719.479,82,763.372,82,806.605,82C849.839,82,892.411,82,934.984,82C977.557,82,1020.13,82,1061.083,82C1102.036,82,1141.37,82,1180.703,82C1220.036,82,1259.37,82,1283.203,82C1307.036,82,1315.37,82,1323.703,82C1332.036,82,1340.37,82,1354.577,82C1368.784,82,1388.865,82,1398.905,82L1408.945,82"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L2_T2_0" d="M448.558,351L464.449,327.5C480.341,304,512.123,257,549.961,233.5C587.799,210,631.693,210,675.586,210C719.479,210,763.372,210,806.605,210C849.839,210,892.411,210,934.984,210C977.557,210,1020.13,210,1061.083,210C1102.036,210,1141.37,210,1180.703,210C1220.036,210,1259.37,210,1283.203,210C1307.036,210,1315.37,210,1323.703,210C1332.036,210,1340.37,210,1354.699,210C1369.029,210,1389.354,210,1399.517,210L1409.68,210"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L3_T3_0" d="M728.052,415L741.254,402.167C754.457,389.333,780.861,363.667,815.35,350.833C849.839,338,892.411,338,934.984,338C977.557,338,1020.13,338,1061.083,338C1102.036,338,1141.37,338,1180.703,338C1220.036,338,1259.37,338,1283.203,338C1307.036,338,1315.37,338,1323.703,338C1332.036,338,1340.37,338,1348.036,338C1355.703,338,1362.703,338,1366.203,338L1369.703,338"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L4_T4_0" d="M1036.76,479L1041.084,476.833C1045.408,474.667,1054.056,470.333,1078.046,468.167C1102.036,466,1141.37,466,1180.703,466C1220.036,466,1259.37,466,1283.203,466C1307.036,466,1315.37,466,1323.703,466C1332.036,466,1340.37,466,1355.102,466C1369.833,466,1390.964,466,1401.529,466L1412.094,466"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L5_T5_0" d="M1273.703,594L1277.87,594C1282.036,594,1290.37,594,1298.703,594C1307.036,594,1315.37,594,1323.703,594C1332.036,594,1340.37,594,1351.589,594C1362.807,594,1376.911,594,1383.964,594L1391.016,594"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(146.1171875, 338)" id="flowchart-L1-0" class="node default"><rect height="102" width="226.234375" y="-51" x="-113.1171875" style="fill:#e3f2fd !important;stroke:#1565c0 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-83.1171875, -36)" style="" class="label"><rect/><foreignObject height="72" width="166.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Layer 1: PROMPT<br />Wrong tool selected<br />Conflicting instructions</p></span></div></foreignObject></g></g><g transform="translate(414.0703125, 402)" id="flowchart-L2-1" class="node default"><rect height="102" width="209.671875" y="-51" x="-104.8359375" style="fill:#e8f5e9 !important;stroke:#2e7d32 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-74.8359375, -36)" style="" class="label"><rect/><foreignObject height="72" width="149.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Layer 2: RETRIEVAL<br />Low similarity scores<br />Missing documents</p></span></div></foreignObject></g></g><g transform="translate(675.5859375, 466)" id="flowchart-L3-2" class="node default"><rect height="102" width="213.359375" y="-51" x="-106.6796875" style="fill:#fff3e0 !important;stroke:#ef6c00 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-76.6796875, -36)" style="" class="label"><rect/><foreignObject height="72" width="153.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Layer 3: GENERATION<br />Hallucination<br />Invented details</p></span></div></foreignObject></g></g><g transform="translate(934.984375, 530)" id="flowchart-L4-3" class="node default"><rect height="102" width="205.4375" y="-51" x="-102.71875" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-72.71875, -36)" style="" class="label"><rect/><foreignObject height="72" width="145.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Layer 4: VALIDATION<br />Wrong parameters<br />Schema mismatch</p></span></div></foreignObject></g></g><g transform="translate(1180.703125, 594)" id="flowchart-L5-4" class="node default"><rect height="102" width="186" y="-51" x="-93" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:2px !important" class="basic label-container"/><g transform="translate(-63, -36)" style="" class="label"><rect/><foreignObject height="72" width="126"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Layer 5: LATENCY<br />Timeouts<br />Slow queries</p></span></div></foreignObject></g></g><g transform="translate(1501.1171875, 82)" id="flowchart-T1-13" class="node default"><rect height="78" width="176.34375" y="-39" x="-88.171875" style="" class="basic label-container"/><g transform="translate(-58.171875, -24)" style="" class="label"><rect/><foreignObject height="48" width="116.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Langfuse:<br />Check reasoning</p></span></div></foreignObject></g></g><g transform="translate(1501.1171875, 210)" id="flowchart-T2-14" class="node default"><rect height="78" width="174.875" y="-39" x="-87.4375" style="" class="basic label-container"/><g transform="translate(-57.4375, -24)" style="" class="label"><rect/><foreignObject height="48" width="114.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Langfuse:<br />Check similarity</p></span></div></foreignObject></g></g><g transform="translate(1501.1171875, 338)" id="flowchart-T3-15" class="node default"><rect height="78" width="254.828125" y="-39" x="-127.4140625" style="" class="basic label-container"/><g transform="translate(-97.4140625, -24)" style="" class="label"><rect/><foreignObject height="48" width="194.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Langfuse:<br />Compare context vs output</p></span></div></foreignObject></g></g><g transform="translate(1501.1171875, 466)" id="flowchart-T4-16" class="node default"><rect height="78" width="170.046875" y="-39" x="-85.0234375" style="" class="basic label-container"/><g transform="translate(-55.0234375, -24)" style="" class="label"><rect/><foreignObject height="48" width="110.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Langfuse:<br />Check tool args</p></span></div></foreignObject></g></g><g transform="translate(1501.1171875, 594)" id="flowchart-T5-17" class="node default"><rect height="78" width="212.203125" y="-39" x="-106.1015625" style="" class="basic label-container"/><g transform="translate(-76.1015625, -24)" style="" class="label"><rect/><foreignObject height="48" width="152.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Jaeger:<br />Check span durations</p></span></div></foreignObject></g></g></g></g></g></svg>